const _0x49cb=['return\x20(function()\x20','Error\x20at\x20getContext\x20-\x20','NOTIFY','ERROR','parse','{}.constructor(\x22return\x20this\x22)(\x20)','info','./utils/constants','48KSyyEw','1459vagkUd','error','prototype','1.0','keysCanCollide','sCWeC','Transaction\x20type\x20was\x20not\x20defined','103611szlJyR','apply','3GweKSU','KReup','./utils/logger','crypto','JswAm','CaGEK','Handling\x20transaction\x20with\x20type\x20','console','putState','IeLNj','TRANSACTION','Error\x20at\x20getContext\x20-\x20Transaction\x20type\x20was\x20not\x20defined','length','log','Handling\x20post\x20transaction','digest','1zYbDEc','WARN','__proto__','warn','2uAJdsq','OPEkM','createHash','\x20->','280654EmLpoD','Updated\x20state\x20','SUCCESS','251387rlyocf','43189EvJPPn','376928MdNrRU','oMoEi','toString','exports','hex','exception','TRANSFER','\x20->\x20','cnk-cryptocurrency','Handling\x20delete\x20transaction','update','Transaction\x20was\x20not\x20JSON\x20parsable','bind','244873QHTqXj','constructor'];const _0x1e86=function(_0xcb5d10,_0x18f8c5){_0xcb5d10=_0xcb5d10-0x194;let _0x53847e=_0x49cb[_0xcb5d10];return _0x53847e;};const _0x36f072=_0x1e86;(function(_0x1289d3,_0x5815ca){const _0xc184f=_0x1e86;while(!![]){try{const _0xbcad58=-parseInt(_0xc184f(0x1cc))+parseInt(_0xc184f(0x1c7))+parseInt(_0xc184f(0x1bf))*-parseInt(_0xc184f(0x19b))+parseInt(_0xc184f(0x1cb))*-parseInt(_0xc184f(0x1c3))+parseInt(_0xc184f(0x1ca))+parseInt(_0xc184f(0x1a5))*parseInt(_0xc184f(0x1a6))+-parseInt(_0xc184f(0x1af))*-parseInt(_0xc184f(0x1ad));if(_0xbcad58===_0x5815ca)break;else _0x1289d3['push'](_0x1289d3['shift']());}catch(_0x3ad1c3){_0x1289d3['push'](_0x1289d3['shift']());}}}(_0x49cb,0x31fb7));const _0x9aa2=function(){let _0x8b187=!![];return function(_0x446363,_0x258b0a){const _0x11f71f=_0x1e86;if(_0x11f71f(0x1cd)==='oMoEi'){const _0xb43728=_0x8b187?function(){const _0x44a7bd=_0x11f71f;if(_0x44a7bd(0x1c4)!=='kJwYC'){if(_0x258b0a){if(_0x44a7bd(0x1b4)!==_0x44a7bd(0x1b4)){function _0x3df0fc(){const _0x5b6b9e=_0x44a7bd;let _0x443194;try{_0x443194=_0x2259b2[_0x5b6b9e(0x1a1)](_0xb5693f);}catch(_0x18e5fe){throw _0x22fd40(_0x5b6b9e(0x19e)+_0x18e5fe,_0x311d55[_0x5b6b9e(0x1a0)],_0x443194),new _0x5c900e(_0x5b6b9e(0x199));}var {type:_0xb5693f}=_0x443194;switch(_0x12187d(_0x5b6b9e(0x1b5)+_0xb5693f,_0x289143['WARN'],_0x443194),_0xb5693f){case _0x40919d[_0x5b6b9e(0x1b9)]:return _0x4349f2;case _0x5a6c5f['USER']:return _0x3f97aa;case _0x55f1a6[_0x5b6b9e(0x194)]:return _0x4a5acd;default:throw _0x502163(_0x5b6b9e(0x1ba),_0x255308[_0x5b6b9e(0x1a0)],_0x443194),new _0xc7e83d(_0x5b6b9e(0x1ac));}}}else{const _0x782187=_0x258b0a[_0x44a7bd(0x1ae)](_0x446363,arguments);return _0x258b0a=null,_0x782187;}}}else{function _0x48b6e3(){const _0x30821c=_0x44a7bd;if(_0x565778){const _0x16d9ef=_0x37032d[_0x30821c(0x1ae)](_0x1262f3,arguments);return _0x5d2012=null,_0x16d9ef;}}}}:function(){};return _0x8b187=![],_0xb43728;}else{function _0x30186d(){const _0x3b02a9=_0x4d64d0?function(){if(_0x5831f8){const _0xbd06d7=_0x24d98d['apply'](_0x26e52f,arguments);return _0xf3d169=null,_0xbd06d7;}}:function(){};return _0x2243ec=![],_0x3b02a9;}}};}(),_0x390f3f=_0x9aa2(this,function(){const _0x40eb26=_0x1e86,_0x4016a3=function(){const _0x20e4da=_0x1e86;let _0x4b5d7e;try{if(_0x20e4da(0x1b3)===_0x20e4da(0x1b3))_0x4b5d7e=Function(_0x20e4da(0x19d)+_0x20e4da(0x1a2)+');')();else{function _0x4dbbf7(){const _0x50fccb=_0x20e4da,_0x418510=_0x5424f3[_0x50fccb(0x19c)][_0x50fccb(0x1a8)][_0x50fccb(0x19a)](_0x1426c5),_0x13c2f8=_0x15941c[_0x448fc4],_0x4c676d=_0x3395b7[_0x13c2f8]||_0x418510;_0x418510[_0x50fccb(0x1c1)]=_0x39eeb8['bind'](_0x55f4db),_0x418510['toString']=_0x4c676d[_0x50fccb(0x1ce)]['bind'](_0x4c676d),_0x5599ef[_0x13c2f8]=_0x418510;}}}catch(_0x36d008){if(_0x20e4da(0x1b0)===_0x20e4da(0x1ab)){function _0x192f90(){_0x30a132=_0xe3904a;}}else _0x4b5d7e=window;}return _0x4b5d7e;},_0x43cb7e=_0x4016a3(),_0x5caf74=_0x43cb7e[_0x40eb26(0x1b6)]=_0x43cb7e['console']||{},_0x310bf9=[_0x40eb26(0x1bc),_0x40eb26(0x1c2),_0x40eb26(0x1a3),_0x40eb26(0x1a7),_0x40eb26(0x1d1),'table','trace'];for(let _0x1bd45d=0x0;_0x1bd45d<_0x310bf9[_0x40eb26(0x1bb)];_0x1bd45d++){const _0x5b3d4c=_0x9aa2['constructor']['prototype'][_0x40eb26(0x19a)](_0x9aa2),_0x38438d=_0x310bf9[_0x1bd45d],_0x317e4b=_0x5caf74[_0x38438d]||_0x5b3d4c;_0x5b3d4c['__proto__']=_0x9aa2['bind'](_0x9aa2),_0x5b3d4c[_0x40eb26(0x1ce)]=_0x317e4b['toString']['bind'](_0x317e4b),_0x5caf74[_0x38438d]=_0x5b3d4c;}});_0x390f3f();const crypto=require(_0x36f072(0x1b2)),{InvalidTransaction}=require('sawtooth-sdk/processor/exceptions'),{TYPE}=require(_0x36f072(0x1a4)),{logFormatted,SEVERITY}=require(_0x36f072(0x1b1)),TP_FAMILY='cnk-cryptocurrency',TP_VERSION=_0x36f072(0x1a9),hash512=_0x5c6e12=>crypto[_0x36f072(0x1c5)]('sha512')[_0x36f072(0x198)](_0x5c6e12)[_0x36f072(0x1be)](_0x36f072(0x1d0)),getAddress=(_0xd2c9b3,_0x279fcc=0x40)=>hash512(_0xd2c9b3)['slice'](0x0,_0x279fcc),TRANSACTION_FAMILY=_0x36f072(0x196),TP_NAMESPACE=getAddress(TRANSACTION_FAMILY,0x6),getTransactionAddress=_0x3cc3e3=>TP_NAMESPACE+'00'+getAddress(_0x3cc3e3,0x3e),getUserAddress=_0x2fb905=>TP_NAMESPACE+'01'+getAddress(_0x2fb905,0x3e),getTransferAddress=_0x4a772c=>TP_NAMESPACE+'02'+getAddress(_0x4a772c,0x3e),addressIntKey=(_0x39cb92,_0x2ca285)=>{const _0x1556ec=_0x36f072;switch(_0x2ca285){case _0x1556ec(0x1b9):return getTransactionAddress(_0x39cb92);case'USER':return getUserAddress(_0x39cb92);case'TRANSFER':return getTransferAddress(_0x39cb92);default:return'';}};addressIntKey[_0x36f072(0x1aa)]=!0x0;const getContext=([_0x3ace2b,_0x17f084,_0x55da43],_0x54834d)=>{const _0x2569d1=_0x36f072;let _0x2be608;try{if(_0x2569d1(0x1b8)===_0x2569d1(0x1b8))_0x2be608=JSON[_0x2569d1(0x1a1)](_0x54834d);else{function _0x30934e(){const _0x4f9508=_0x2569d1;_0x1ef2b8=_0x1fb892[_0x4f9508(0x1a1)](_0x55ebd3);}}}catch(_0x47057c){throw logFormatted(_0x2569d1(0x19e)+_0x47057c,SEVERITY[_0x2569d1(0x1a0)],_0x2be608),new InvalidTransaction(_0x2569d1(0x199));}var {type:_0x54834d}=_0x2be608;switch(logFormatted('Handling\x20transaction\x20with\x20type\x20'+_0x54834d,SEVERITY[_0x2569d1(0x1c0)],_0x2be608),_0x54834d){case TYPE['TRANSACTION']:return _0x3ace2b;case TYPE['USER']:return _0x17f084;case TYPE[_0x2569d1(0x194)]:return _0x55da43;default:throw logFormatted(_0x2569d1(0x1ba),SEVERITY[_0x2569d1(0x1a0)],_0x2be608),new InvalidTransaction(_0x2569d1(0x1ac));}},handlers={async 'delete'([_0x1e4d01,_0x169f99,_0xd83434],{transaction:_0xbd3f24,txid:_0x1cba6a}){const _0xbc8c7d=_0x36f072;logFormatted(_0xbc8c7d(0x197),SEVERITY[_0xbc8c7d(0x19f)],{'transaction':_0xbd3f24,'txid':_0x1cba6a});const _0x428137=getContext([_0x1e4d01,_0x169f99,_0xd83434],_0xbd3f24);var {output:_0xbd3f24}=JSON[_0xbc8c7d(0x1a1)](_0xbd3f24);await _0x428137['putState'](_0x1cba6a,_0xbd3f24);},async 'post'([_0x18405b,_0x471f33,_0x154113],{transaction:_0x519dc0,txid:_0x34bd3d}){const _0x8c85e6=_0x36f072;logFormatted(_0x8c85e6(0x1bd),SEVERITY[_0x8c85e6(0x19f)],{'transaction':_0x519dc0,'txid':_0x34bd3d});const _0x5aea27=getContext([_0x18405b,_0x471f33,_0x154113],_0x519dc0),{type:_0x4f8247,..._0x14cd90}=JSON[_0x8c85e6(0x1a1)](_0x519dc0);await _0x5aea27[_0x8c85e6(0x1b7)](_0x34bd3d,_0x14cd90),logFormatted('Added\x20state\x20'+_0x34bd3d+_0x8c85e6(0x195)+getUserAddress(_0x34bd3d)+_0x8c85e6(0x1c6),SEVERITY[_0x8c85e6(0x1c9)],_0x14cd90);},async 'put'([_0x407572,_0x318d2e,_0xa308f9],{transaction:_0x2b814e,txid:_0x5d7eee}){const _0x426da0=_0x36f072;logFormatted('Handling\x20put\x20transaction',SEVERITY[_0x426da0(0x19f)],{'transaction':_0x2b814e,'txid':_0x5d7eee});const _0x2dd86a=getContext([_0x407572,_0x318d2e,_0xa308f9],_0x2b814e),{type:_0x4e734e,..._0x5a62ce}=JSON[_0x426da0(0x1a1)](_0x2b814e);await _0x2dd86a['putState'](_0x5d7eee,_0x5a62ce),logFormatted(_0x426da0(0x1c8)+_0x5d7eee+'\x20->\x20'+getUserAddress(_0x5d7eee)+_0x426da0(0x1c6),SEVERITY[_0x426da0(0x1c9)],_0x5a62ce);}};module[_0x36f072(0x1cf)]={'TP_FAMILY':TP_FAMILY,'TP_VERSION':TP_VERSION,'TP_NAMESPACE':TP_NAMESPACE,'handlers':handlers,'addresses':{'getTransactionAddress':getTransactionAddress,'getUserAddress':getUserAddress,'getTransferAddress':getTransferAddress}};