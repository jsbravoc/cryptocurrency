const{getTransactionAddress,getRawState}=require("./common"),{InvalidTransaction,InternalError}=require("sawtooth-sdk/processor/exceptions"),{logFormatted,SEVERITY}=require("../utils/logger"),Transaction=require("../models/Transaction");async function postTransaction(t,r,e){if(0===(await t.setState({[getTransactionAddress(r.address)]:Buffer.from(JSON.stringify(r),"utf8")},e)).length)throw new InternalError("State Error!");logFormatted(`Added transaction state ${r.address.slice(-5)} ... -> ${getTransactionAddress(r.address).slice(-5)}`,SEVERITY.SUCCESS,new Transaction(r).toSimplifiedObject())}module.exports.postTransaction=postTransaction;