const{getUserAddress,getRawState}=require("./common"),{InvalidTransaction,InternalError}=require("sawtooth-sdk/processor/exceptions"),{logFormatted,SEVERITY}=require("../utils/logger"),User=require("../models/User");async function postUser(e,r,s){if(0===(await e.setState({[getUserAddress(r.address)]:Buffer.from(JSON.stringify(r),"utf8")},s)).length)throw new InternalError("State Error!");logFormatted(`Added transaction state ${r.address.slice(-5)}... -> ${getUserAddress(r.address).slice(-5)}`,SEVERITY.SUCCESS,new User(r).toSimplifiedObject())}module.exports.postUser=postUser;