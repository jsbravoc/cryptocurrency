const express=require("express"),router=express.Router(),swaggerUi=require("swagger-ui-express"),swaggerDocument=require("../resources/docs/swagger/swagger.json"),{SEVERITY,logFormatted}=require("../utils/logger"),{LOCAL_ADDRESS}=require("../utils/constants"),localAddress=`http://${LOCAL_ADDRESS}:${process.env.PORT||"3000"}`;swaggerDocument.host=localAddress,require("public-ip").v4().then(e=>{logFormatted(`LOCAL IP | Docs available at ${localAddress}/api-docs`,SEVERITY.URL);e=`http://${e}:${process.env.PORT||"3000"}`;logFormatted(`PUBLIC IP | Docs available at ${e}/api-docs`,SEVERITY.URL),swaggerDocument.servers=[{url:localAddress,description:"Local address server"},{url:e,description:"Public address server"}],router.use("/",swaggerUi.serve,swaggerUi.setup(swaggerDocument)),logFormatted("Warning: /api-docs should not be used in production, use NODE_ENV=production to disable it",SEVERITY.LOW),logFormatted("Swagger-UI application launched successfully",SEVERITY.NONE)}),module.exports=router;