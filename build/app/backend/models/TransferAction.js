/*! cryptocurrency 2021-04-13 */
const _=require("underscore"),{TYPE}=require("../utils/constants"),BaseModel=require("./BaseModel.js");class TransferActions{constructor(t,i){super(TYPE.TRANSFER),this.creator=t,this.recipient=recipient,sender&&(this.sender=sender),description&&(this.description=description),this.valid=null==valid||valid,valid_thru&&(this.valid_thru=valid_thru),supporting_transactions&&(this.supporting_transactions=supporting_transactions),this.signature=signature}addSupportingTransaction(t){this.supporting_transactions&&Array.isArray(this.supporting_transactions)||(this.supporting_transactions=[]),this.supporting_transactions.push(t)}static signedStringToTransaction(t,i){try{var{amount:s,recipient:r,sender:n,description:a,valid:e,valid_thru:o,supporting_transactions:c}=JSON.parse(t);return new Transaction(s,r,n,a,e,o,i,c)}catch(t){console.log(t)}}static createNewTransaction(t){var{amount:i,recipient:s,sender:r,description:n,valid:a,valid_thru:e,signature:o,txid:t}=t;return new Transaction(i,s,r,n,a,e,o||t)}}module.exports=Transaction;