var _0x4369=['pEVhJ','parse','1quUexW','push','1280280hoJRLL','indexOf','279BeboNu','warn','toString','exception','lastest_transactions','getLastestTransactions','./Permissions','active','User\x20error:\x20Tried\x20to\x20remove\x20nonexistent\x20transaction','trace','signedStringToTransaction','boolean','balance','public_key','isArray','info','140531nOPiMh','__proto__','constructor','1szqtBB','role','signature','User\x20error:\x20Sender\x20tried\x20to\x20use\x20remove\x20pending\x20unexistent\x20transaction','3807KdaZVE','1267050nBWVAr','pending_transactions','siLNT','object','711465tTuWVS','removeInvalidTransaction','description','1121819KCziwg','removePendingTransaction','table','return_to','prototype','console','apply','permissions','RECIPIENT','splice','User\x20error:\x20Sender\x20tried\x20to\x20use\x20nonexistent\x20transaction','address','length','bind','653954TRjPoo','USER','log'];var _0xe328=function(_0xc5b27b,_0x3b4fb7){_0xc5b27b=_0xc5b27b-0x1d5;var _0x53f124=_0x4369[_0xc5b27b];return _0x53f124;};var _0x14e1e9=_0xe328;(function(_0x55e46c,_0x67ea82){var _0x45aa13=_0xe328;while(!![]){try{var _0x47b601=parseInt(_0x45aa13(0x1e5))+parseInt(_0x45aa13(0x1de))+-parseInt(_0x45aa13(0x1fa))+parseInt(_0x45aa13(0x1f8))*-parseInt(_0x45aa13(0x1e2))+-parseInt(_0x45aa13(0x1fc))*-parseInt(_0x45aa13(0x1dd))+-parseInt(_0x45aa13(0x1d9))*parseInt(_0x45aa13(0x1d6))+-parseInt(_0x45aa13(0x1f3));if(_0x47b601===_0x67ea82)break;else _0x55e46c['push'](_0x55e46c['shift']());}catch(_0x4a0028){_0x55e46c['push'](_0x55e46c['shift']());}}}(_0x4369,0xa24d8));var _0x2e5ceb=function(){var _0x221058=!![];return function(_0x1820bc,_0xff8820){if('mqGlj'!=='mqGlj'){function _0x4e99b1(){var _0x35367e=_0xe328,_0x5cdc50=this['lastest_transactions']['indexOf'](_0x3b3d58);if(_0x5cdc50<=-0x1)throw new _0x377de9('User\x20error:\x20Sender\x20tried\x20to\x20use\x20nonexistent\x20transaction');this[_0x35367e(0x208)]-=_0x9ef163,this['lastest_transactions']['splice'](_0x5cdc50,0x1);}}else{var _0x28e1b7=_0x221058?function(){if(_0xff8820){var _0x539911=_0xff8820['apply'](_0x1820bc,arguments);return _0xff8820=null,_0x539911;}}:function(){};return _0x221058=![],_0x28e1b7;}};}(),_0x481733=_0x2e5ceb(this,function(){var _0xadd7f0=_0xe328,_0x598010=function(){var _0x21d310=_0xe328,_0x5aa559;try{if(_0x21d310(0x1f6)!==_0x21d310(0x1f6)){function _0x191349(){var _0x3e6b07=_0x21d310;if(_0x3f48bc){var _0x39f235=_0x50846d[_0x3e6b07(0x1eb)](_0x1abcdf,arguments);return _0x2c5763=null,_0x39f235;}}}else _0x5aa559=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x38768b){if(_0x21d310(0x1e0)===_0x21d310(0x1e0))_0x5aa559=window;else{function _0x457594(){var _0x5b9e43=_0x21d310;_0x530263[_0x5b9e43(0x1f5)](_0x14b0bc);}}}return _0x5aa559;},_0x594e6=_0x598010(),_0x570d9c=_0x594e6[_0xadd7f0(0x1ea)]=_0x594e6[_0xadd7f0(0x1ea)]||{},_0x356018=['log',_0xadd7f0(0x1fd),_0xadd7f0(0x1d5),'error',_0xadd7f0(0x1ff),_0xadd7f0(0x1e7),_0xadd7f0(0x205)];for(var _0x1d694a=0x0;_0x1d694a<_0x356018[_0xadd7f0(0x1f1)];_0x1d694a++){var _0x1a354a=_0x2e5ceb[_0xadd7f0(0x1d8)][_0xadd7f0(0x1e9)][_0xadd7f0(0x1f2)](_0x2e5ceb),_0x15df7c=_0x356018[_0x1d694a],_0x1f52ea=_0x570d9c[_0x15df7c]||_0x1a354a;_0x1a354a[_0xadd7f0(0x1d7)]=_0x2e5ceb['bind'](_0x2e5ceb),_0x1a354a[_0xadd7f0(0x1fe)]=_0x1f52ea[_0xadd7f0(0x1fe)]['bind'](_0x1f52ea),_0x570d9c[_0x15df7c]=_0x1a354a;}});_0x481733();const {TYPE,USER_TYPE}=require('../utils/constants'),BaseModel=require('./BaseModel'),Permissions=require(_0x14e1e9(0x202));class User extends BaseModel{constructor(_0x31950e,_0x14340c,_0x2ee17c,_0x52f0e8,_0x4fbce7,_0x5a667b,_0x5918fe){var _0x1054e6=_0x14e1e9;super(TYPE[_0x1054e6(0x1f4)]);let _0x2b99fd,_0xc72dcb,_0x51b7d8,_0x578313;var _0x3dec1c;_0x1054e6(0x1e1)==typeof _0x31950e&&(_0x31950e=(_0x3dec1c=_0x31950e)[_0x1054e6(0x1f0)],_0x5918fe=_0x3dec1c[_0x1054e6(0x1f0)],_0x14340c=_0x3dec1c[_0x1054e6(0x1da)],_0x578313=_0x3dec1c[_0x1054e6(0x203)],_0x51b7d8=_0x3dec1c[_0x1054e6(0x208)],_0x2ee17c=_0x3dec1c[_0x1054e6(0x1e4)],_0x52f0e8=_0x3dec1c[_0x1054e6(0x209)],_0x4fbce7=_0x3dec1c['return_to'],_0x5a667b=_0x3dec1c[_0x1054e6(0x1ec)],_0x2b99fd=_0x3dec1c[_0x1054e6(0x200)],_0xc72dcb=_0x3dec1c[_0x1054e6(0x1df)]),this[_0x1054e6(0x1f0)]=_0x31950e,this[_0x1054e6(0x1da)]=_0x14340c,this['description']=_0x2ee17c,this[_0x1054e6(0x209)]=_0x52f0e8,this[_0x1054e6(0x208)]=_0x51b7d8||0x0,this[_0x1054e6(0x203)]=_0x1054e6(0x207)!=typeof _0x578313||_0x578313,this[_0x1054e6(0x1e8)]=_0x4fbce7||{},this[_0x1054e6(0x200)]=_0x2b99fd||[],this['pending_transactions']=_0xc72dcb||[],this[_0x1054e6(0x1ec)]=new Permissions(_0x5a667b),this['signature']=_0x5918fe||_0x31950e;}static[_0x14e1e9(0x206)](_0x1f52bc,_0x141749){var _0x1e494a=_0x14e1e9;try{var {address:_0x58c96f,role:_0x3b6588,description:_0x29590f,public_key:_0x48d37e,return_to:_0x1d235b,permissions:_0x590c3e}=JSON[_0x1e494a(0x1f7)](_0x1f52bc);return new User(_0x58c96f,_0x3b6588,_0x29590f,_0x48d37e,_0x1d235b,_0x590c3e,_0x141749);}catch(_0x1c7e72){console[_0x1e494a(0x1f5)](_0x1c7e72);}}['addSignature'](_0x56bb14){var _0x1833ab=_0x14e1e9;this[_0x1833ab(0x1db)]=this[_0x1833ab(0x1f0)];}[_0x14e1e9(0x1e3)](_0x3a28f3){var _0x55a538=_0x14e1e9,_0x2d7291=this[_0x55a538(0x200)][_0x55a538(0x1fb)](_0x3a28f3['signature']);if(_0x2d7291<=-0x1)throw new Error(_0x55a538(0x204));var {amount:_0x3a28f3}=_0x3a28f3;this[_0x55a538(0x208)]-=_0x3a28f3,this[_0x55a538(0x200)][_0x55a538(0x1ee)](_0x2d7291,0x1);}[_0x14e1e9(0x1e6)](_0x1894a2){var _0x114161=_0x14e1e9;if(Array[_0x114161(0x20a)](this['pending_transactions'])){_0x1894a2=this[_0x114161(0x1df)][_0x114161(0x1fb)](_0x1894a2);if(_0x1894a2<=-0x1)throw new Error(_0x114161(0x1dc));this[_0x114161(0x1df)][_0x114161(0x1ee)](_0x1894a2,0x1);}}['addTransaction'](_0xafdf02,_0x1d88c6,_0xd69834,_0x3ee13c=!0x0){var _0x460089=_0x14e1e9;switch(Array[_0x460089(0x20a)](this[_0x460089(0x200)])||(this[_0x460089(0x200)]=[]),_0xafdf02){case USER_TYPE['SENDER']:if(_0x3ee13c){var _0x380371=this['lastest_transactions'][_0x460089(0x1fb)](_0xd69834);if(_0x380371<=-0x1)throw new Error(_0x460089(0x1ef));this['balance']-=_0x1d88c6,this['lastest_transactions'][_0x460089(0x1ee)](_0x380371,0x1);}else this[_0x460089(0x1df)]['push'](_0xd69834);break;case USER_TYPE[_0x460089(0x1ed)]:_0x3ee13c?(this[_0x460089(0x208)]+=_0x1d88c6,this[_0x460089(0x200)][_0x460089(0x1f9)](_0xd69834)):this[_0x460089(0x1df)][_0x460089(0x1f9)](_0xd69834);}}[_0x14e1e9(0x201)](){return this['lastest_transactions'];}['toSignatureString'](){return this['address'];}}module['exports']=User;